Warning: EasyOCR not available. Text detection will be disabled.
Warning: rembg not available. Background removal will use mask-based method.
✅ 日本語フォント設定完了: DejaVu Sans
🎌 アニメモード: スコア閾値を 0.15 → 0.105 に調整
🔄 開始: SAMモデル読み込み (RAM: 629.6MB, GPU: 0.0MB)
SAMモデルを読み込み中... (vit_h)
✅ 完了: SAMモデル読み込み (48.67秒, RAM: 773.8MB, GPU: 2509.6MB)
🔄 開始: YOLOモデル読み込み (RAM: 773.8MB, GPU: 2509.6MB)
🎌 アニメモード: より大きなYOLOモデルで検出精度向上を試行します
アニメ用YOLOモデルを試行中... (yolov8x.pt)
✅ アニメ用YOLOモデルを読み込み完了: yolov8x.pt
デバイス: cuda
✅ 完了: YOLOモデル読み込み (1.28秒, RAM: 1035.4MB, GPU: 2509.6MB)
=== システム情報 ===
CPU: 12 コア
RAM: 19.5GB
GPU: NVIDIA GeForce RTX 4070 Ti SUPER
GPU RAM: 16.0GB
====================
🔄 開始: ファイル収集 (RAM: 1035.4MB, GPU: 2509.6MB)
処理対象画像数: 88 (重複除去後)
✅ 完了: ファイル収集 (0.08秒, RAM: 1035.4MB, GPU: 2509.6MB)

進捗: 1/88 - 01_kaname03_0000_cover.jpg
🔄 開始: 画像読み込み (RAM: 1035.4MB, GPU: 2509.6MB)
✅ 完了: 画像読み込み (0.18秒, RAM: 1055.3MB, GPU: 2509.6MB)
カラー判定: 最大チャンネル差分=52.141, 閾値=0.01, 結果=カラー
スキップ: カラー画像です - 01_kaname03_0000_cover.jpg

進捗: 2/88 - 02_kaname03_0001.jpg
🔄 開始: 画像読み込み (RAM: 1038.8MB, GPU: 2509.6MB)
✅ 完了: 画像読み込み (0.06秒, RAM: 1056.9MB, GPU: 2509.6MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 1096.1MB, GPU: 2509.6MB)
SAMでマスクを生成中...
生成されたマスク数: 59
マスク面積統計: 最小=676, 最大=896533, 平均=92532
✅ 完了: SAMマスク生成 (1195.56秒, RAM: 2204.5MB, GPU: 2541.6MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2204.5MB, GPU: 2541.6MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で59個のマスクを評価開始...
YOLO処理済み: 10/59 (現在のスコア: 0.000)
YOLO処理済み: 20/59 (現在のスコア: 0.000)
YOLO処理済み: 30/59 (現在のスコア: 0.000)
YOLO処理済み: 40/59 (現在のスコア: 0.000)
YOLO処理済み: 50/59 (現在のスコア: 0.000)
人物検出スコア >= 0.105 のマスク数: 10
YOLO検出スコア統計: 最高=0.638, 最低=0.000, 平均=0.060
上位10スコア: ['0.638', '0.583', '0.386', '0.376', '0.284', '0.270', '0.174', '0.170', '0.154', '0.106']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (4.65秒, RAM: 2225.8MB, GPU: 2805.5MB)
🎯 複数キャラクター検出: 10個 → 複合スコアで最適選択
🎯 複合スコア評価開始 (基準: fullbody_priority, 10個のマスク)
   マスク1: 総合=0.304 (面積=0.10, 全身=0.00, 中央=0.85, 接地=0.62, YOLO=0.64)
   マスク2: 総合=0.337 (面積=0.07, 全身=0.00, 中央=0.85, 接地=0.91, YOLO=0.58)
   マスク3: 総合=0.327 (面積=0.16, 全身=0.00, 中央=0.84, 接地=0.88, YOLO=0.39)
   マスク4: 総合=0.263 (面積=0.07, 全身=0.00, 中央=0.55, 接地=0.86, YOLO=0.38)
   マスク5: 総合=0.316 (面積=0.21, 全身=0.04, 中央=0.75, 接地=0.77, YOLO=0.28)
   マスク6: 総合=0.188 (面積=0.02, 全身=0.16, 中央=0.49, 接地=0.13, YOLO=0.27)
   マスク7: 総合=0.244 (面積=0.00, 全身=0.00, 中央=0.77, 接地=0.73, YOLO=0.17)
   マスク8: 総合=0.447 (面積=0.13, 全身=0.41, 中央=0.74, 接地=0.86, YOLO=0.17)
   マスク9: 総合=0.294 (面積=0.19, 全身=0.00, 中央=0.65, 接地=0.95, YOLO=0.15)
   マスク10: 総合=0.258 (面積=0.10, 全身=0.00, 中央=0.82, 接地=0.69, YOLO=0.11)
✅ 最適マスク選択: 複合スコア 0.447, 品質スコア 0.281
✅ 保存完了: 02_kaname03_0001.jpg (品質: 0.281)

進捗: 3/88 - 03_kaname03_0002.jpg
🔄 開始: 画像読み込み (RAM: 2033.5MB, GPU: 2805.5MB)
✅ 完了: 画像読み込み (0.14秒, RAM: 2033.5MB, GPU: 2805.5MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 2033.5MB, GPU: 2805.5MB)
SAMでマスクを生成中...
生成されたマスク数: 97
マスク面積統計: 最小=832, 最大=626966, 平均=55706
✅ 完了: SAMマスク生成 (62.57秒, RAM: 2227.5MB, GPU: 2805.5MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2227.3MB, GPU: 2805.5MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で97個のマスクを評価開始...
YOLO処理済み: 10/97 (現在のスコア: 0.011)
YOLO処理済み: 20/97 (現在のスコア: 0.000)
YOLO処理済み: 30/97 (現在のスコア: 0.000)
YOLO処理済み: 40/97 (現在のスコア: 0.000)
YOLO処理済み: 50/97 (現在のスコア: 0.925)
YOLO処理済み: 60/97 (現在のスコア: 0.522)
YOLO処理済み: 70/97 (現在のスコア: 0.000)
YOLO処理済み: 80/97 (現在のスコア: 0.225)
YOLO処理済み: 90/97 (現在のスコア: 0.000)
人物検出スコア >= 0.105 のマスク数: 21
YOLO検出スコア統計: 最高=0.925, 最低=0.000, 平均=0.109
上位10スコア: ['0.925', '0.905', '0.891', '0.864', '0.845', '0.731', '0.721', '0.627', '0.522', '0.504']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (1.68秒, RAM: 2172.9MB, GPU: 2805.5MB)
🎯 複数キャラクター検出: 21個 → 複合スコアで最適選択
⚠️ マスク数制限: 21個 → 20個に制限
🎯 複合スコア評価開始 (基準: fullbody_priority, 20個のマスク)
   マスク1: 総合=0.432 (面積=0.46, 全身=0.00, 中央=0.65, 接地=1.00, YOLO=0.92)
   マスク2: 総合=0.518 (面積=0.07, 全身=0.44, 中央=0.57, 接地=1.00, YOLO=0.91)
   マスク3: 総合=0.400 (面積=0.49, 全身=0.00, 中央=0.71, 接地=0.71, YOLO=0.89)
   マスク4: 総合=0.321 (面積=0.12, 全身=0.06, 中央=0.58, 接地=0.65, YOLO=0.86)
   マスク5: 総合=0.383 (面積=0.18, 全身=0.07, 中央=0.83, 接地=0.71, YOLO=0.85)
   マスク6: 総合=0.514 (面積=0.09, 全身=0.48, 中央=0.82, 接地=0.71, YOLO=0.73)
   マスク7: 総合=0.509 (面積=0.13, 全身=0.48, 中央=0.74, 接地=0.71, YOLO=0.72)
   マスク8: 総合=0.555 (面積=0.02, 全身=0.66, 中央=0.60, 接地=0.89, YOLO=0.63)
   マスク9: 総合=0.353 (面積=0.32, 全身=0.00, 中央=0.58, 接地=1.00, YOLO=0.52)
   マスク10: 総合=0.322 (面積=0.04, 全身=0.00, 中央=0.86, 接地=0.91, YOLO=0.50)
   マスク11: 総合=0.284 (面積=0.04, 全身=0.01, 中央=0.53, 接地=1.00, YOLO=0.40)
   マスク12: 総合=0.571 (面積=0.01, 全身=0.90, 中央=0.51, 接地=0.65, YOLO=0.37)
   マスク13: 総合=0.400 (面積=0.03, 全身=0.36, 中央=0.67, 接地=0.84, YOLO=0.25)
   マスク14: 総合=0.223 (面積=0.04, 全身=0.00, 中央=0.50, 接地=0.78, YOLO=0.24)
   マスク15: 総合=0.441 (面積=0.04, 全身=0.59, 中央=0.66, 接地=0.50, YOLO=0.23)
   マスク16: 総合=0.504 (面積=0.24, 全身=0.53, 中央=0.65, 接地=0.80, YOLO=0.23)
   マスク17: 総合=0.627 (面積=0.11, 全身=0.84, 中央=0.65, 接地=1.00, YOLO=0.23)
   マスク18: 総合=0.293 (面積=0.05, 全身=0.17, 中央=0.64, 接地=0.69, YOLO=0.18)
   マスク19: 総合=0.197 (面積=0.02, 全身=0.00, 中央=0.52, 接地=0.65, YOLO=0.17)
   マスク20: 総合=0.225 (面積=0.03, 全身=0.06, 中央=0.68, 接地=0.50, YOLO=0.16)
✅ 最適マスク選択: 複合スコア 0.627, 品質スコア 0.386
✅ 保存完了: 03_kaname03_0002.jpg (品質: 0.386)

進捗: 4/88 - 04_kaname03_0003.jpg
🔄 開始: 画像読み込み (RAM: 2036.3MB, GPU: 2805.5MB)
✅ 完了: 画像読み込み (0.08秒, RAM: 2036.3MB, GPU: 2805.5MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 2036.3MB, GPU: 2805.5MB)
SAMでマスクを生成中...
生成されたマスク数: 118
マスク面積統計: 最小=545, 最大=257293, 平均=46181
✅ 完了: SAMマスク生成 (63.78秒, RAM: 2238.1MB, GPU: 2805.5MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2238.1MB, GPU: 2805.5MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で118個のマスクを評価開始...
YOLO処理済み: 10/118 (現在のスコア: 0.016)
YOLO処理済み: 20/118 (現在のスコア: 0.049)
YOLO処理済み: 30/118 (現在のスコア: 0.175)
YOLO処理済み: 40/118 (現在のスコア: 0.000)
YOLO処理済み: 50/118 (現在のスコア: 0.000)
YOLO処理済み: 60/118 (現在のスコア: 0.000)
YOLO処理済み: 70/118 (現在のスコア: 0.000)
YOLO処理済み: 80/118 (現在のスコア: 0.022)
YOLO処理済み: 90/118 (現在のスコア: 0.066)
YOLO処理済み: 100/118 (現在のスコア: 0.000)
YOLO処理済み: 110/118 (現在のスコア: 0.114)
人物検出スコア >= 0.105 のマスク数: 26
YOLO検出スコア統計: 最高=0.916, 最低=0.000, 平均=0.108
上位10スコア: ['0.916', '0.863', '0.856', '0.854', '0.758', '0.708', '0.625', '0.606', '0.581', '0.550']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (1.94秒, RAM: 2238.9MB, GPU: 2805.4MB)
🎯 複数キャラクター検出: 26個 → 複合スコアで最適選択
⚠️ マスク数制限: 26個 → 20個に制限
🎯 複合スコア評価開始 (基準: fullbody_priority, 20個のマスク)
   マスク1: 総合=0.616 (面積=0.20, 全身=0.69, 中央=0.59, 接地=0.80, YOLO=0.92)
   マスク2: 総合=0.368 (面積=0.07, 全身=0.10, 中央=0.88, 接地=0.63, YOLO=0.86)
   マスク3: 総合=0.684 (面積=0.12, 全身=0.99, 中央=0.56, 接地=0.64, YOLO=0.86)
   マスク4: 総合=0.682 (面積=0.08, 全身=0.98, 中央=0.54, 接地=0.73, YOLO=0.85)
   マスク5: 総合=0.285 (面積=0.18, 全身=0.01, 中央=0.59, 接地=0.53, YOLO=0.76)
   マスク6: 総合=0.301 (面積=0.09, 全身=0.14, 中央=0.64, 接地=0.38, YOLO=0.71)
   マスク7: 総合=0.359 (面積=0.07, 全身=0.37, 中央=0.51, 接地=0.39, YOLO=0.63)
   マスク8: 総合=0.422 (面積=0.03, 全身=0.31, 中央=0.65, 接地=0.90, YOLO=0.61)
   マスク9: 総合=0.433 (面積=0.13, 全身=0.40, 中央=0.59, 接地=0.67, YOLO=0.58)
   マスク10: 総合=0.246 (面積=0.05, 全身=0.00, 中央=0.57, 接地=0.64, YOLO=0.55)
   マスク11: 総合=0.564 (面積=0.22, 全身=0.65, 中央=0.59, 接地=0.80, YOLO=0.51)
   マスク12: 総合=0.495 (面積=0.07, 全身=0.51, 中央=0.82, 接地=0.74, YOLO=0.44)
   マスク13: 総合=0.657 (面積=0.14, 全身=0.87, 中央=0.77, 接地=0.80, YOLO=0.44)
   マスク14: 総合=0.518 (面積=0.10, 全身=0.65, 中央=0.57, 接地=0.80, YOLO=0.34)
   マスク15: 総合=0.371 (面積=0.15, 全身=0.19, 中央=0.80, 接地=0.74, YOLO=0.33)
   マスク16: 総合=0.304 (面積=0.01, 全身=0.15, 中央=0.66, 接地=0.79, YOLO=0.26)
   マスク17: 総合=0.315 (面積=0.00, 全身=0.13, 中央=0.70, 接地=0.91, YOLO=0.21)
   マスク18: 総合=0.443 (面積=0.05, 全身=0.41, 中央=0.85, 接地=0.80, YOLO=0.20)
   マスク19: 総合=0.167 (面積=0.08, 全身=0.00, 中央=0.43, 接地=0.44, YOLO=0.19)
   マスク20: 総合=0.233 (面積=0.01, 全身=0.01, 中央=0.65, 接地=0.73, YOLO=0.17)
✅ 最適マスク選択: 複合スコア 0.684, 品質スコア 0.787
✅ 保存完了: 04_kaname03_0003.jpg (品質: 0.787)

進捗: 5/88 - 05_kaname03_0004.jpg
🔄 開始: 画像読み込み (RAM: 2039.1MB, GPU: 2805.4MB)
✅ 完了: 画像読み込み (0.05秒, RAM: 2039.1MB, GPU: 2805.4MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 2039.1MB, GPU: 2805.4MB)
SAMでマスクを生成中...
生成されたマスク数: 93
マスク面積統計: 最小=212, 最大=831621, 平均=75215
✅ 完了: SAMマスク生成 (117.89秒, RAM: 2215.6MB, GPU: 2805.4MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2215.6MB, GPU: 2805.4MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で93個のマスクを評価開始...
YOLO処理済み: 10/93 (現在のスコア: 0.011)
YOLO処理済み: 20/93 (現在のスコア: 0.846)
YOLO処理済み: 30/93 (現在のスコア: 0.384)
YOLO処理済み: 40/93 (現在のスコア: 0.019)
YOLO処理済み: 50/93 (現在のスコア: 0.013)
YOLO処理済み: 60/93 (現在のスコア: 0.249)
YOLO処理済み: 70/93 (現在のスコア: 0.013)
YOLO処理済み: 80/93 (現在のスコア: 0.000)
YOLO処理済み: 90/93 (現在のスコア: 0.000)
人物検出スコア >= 0.105 のマスク数: 44
YOLO検出スコア統計: 最高=0.901, 最低=0.000, 平均=0.221
上位10スコア: ['0.901', '0.892', '0.879', '0.870', '0.859', '0.846', '0.831', '0.803', '0.773', '0.748']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (1.43秒, RAM: 2215.6MB, GPU: 2805.5MB)
🎯 複数キャラクター検出: 44個 → 複合スコアで最適選択
⚠️ マスク数制限: 44個 → 20個に制限
🎯 複合スコア評価開始 (基準: fullbody_priority, 20個のマスク)
   マスク1: 総合=0.673 (面積=0.23, 全身=0.74, 中央=0.67, 接地=0.92, YOLO=0.90)
   マスク2: 総合=0.481 (面積=0.29, 全身=0.34, 中央=0.72, 接地=0.60, YOLO=0.89)
   マスク3: 総合=0.299 (面積=0.05, 全身=0.05, 中央=0.67, 接地=0.53, YOLO=0.88)
   マスク4: 総合=0.410 (面積=0.03, 全身=0.46, 中央=0.57, 接地=0.32, YOLO=0.87)
   マスク5: 総合=0.510 (面積=0.23, 全身=0.39, 中央=0.68, 接地=0.81, YOLO=0.86)
   マスク6: 総合=0.332 (面積=0.10, 全身=0.00, 中央=0.71, 接地=0.81, YOLO=0.85)
   マスク7: 総合=0.320 (面積=0.05, 全身=0.23, 中央=0.58, 接地=0.32, YOLO=0.83)
   マスク8: 総合=0.396 (面積=0.17, 全身=0.00, 中央=0.88, 接地=1.00, YOLO=0.80)
   マスク9: 総合=0.469 (面積=0.65, 全身=0.00, 中央=0.74, 接地=1.00, YOLO=0.77)
   マスク10: 総合=0.579 (面積=0.24, 全身=0.63, 中央=0.59, 接地=0.78, YOLO=0.75)
   マスク11: 総合=0.436 (面積=0.07, 全身=0.35, 中央=0.68, 接地=0.72, YOLO=0.71)
   マスク12: 総合=0.399 (面積=0.13, 全身=0.38, 中央=0.52, 接地=0.49, YOLO=0.68)
   マスク13: 総合=0.194 (面積=0.08, 全身=0.00, 中央=0.55, 接地=0.19, YOLO=0.68)
   マスク14: 総合=0.281 (面積=0.03, 全身=0.00, 中央=0.45, 接地=1.00, YOLO=0.57)
   マスク15: 総合=0.267 (面積=0.03, 全身=0.00, 中央=0.36, 接地=1.00, YOLO=0.57)
   マスク16: 総合=0.499 (面積=0.41, 全身=0.24, 中央=0.78, 接地=1.00, YOLO=0.56)
   マスク17: 総合=0.673 (面積=0.19, 全身=0.94, 中央=0.68, 接地=0.67, YOLO=0.54)
   マスク18: 総合=0.251 (面積=0.02, 全身=0.00, 中央=0.66, 接地=0.64, YOLO=0.52)
   マスク19: 総合=0.257 (面積=0.10, 全身=0.00, 中央=0.66, 接地=0.59, YOLO=0.51)
   マスク20: 総合=0.428 (面積=0.19, 全身=0.22, 中央=0.73, 接地=0.95, YOLO=0.49)
✅ 最適マスク選択: 複合スコア 0.673, 品質スコア 0.593
✅ 保存完了: 05_kaname03_0004.jpg (品質: 0.593)

進捗: 6/88 - 06_kaname03_0005.jpg
🔄 開始: 画像読み込み (RAM: 2070.0MB, GPU: 2805.5MB)
✅ 完了: 画像読み込み (0.06秒, RAM: 2070.0MB, GPU: 2805.5MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 2070.0MB, GPU: 2805.5MB)
SAMでマスクを生成中...
生成されたマスク数: 82
マスク面積統計: 最小=1205, 最大=1110967, 平均=90906
✅ 完了: SAMマスク生成 (159.35秒, RAM: 2145.1MB, GPU: 2805.5MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2145.1MB, GPU: 2805.5MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で82個のマスクを評価開始...
YOLO処理済み: 10/82 (現在のスコア: 0.921)
YOLO処理済み: 20/82 (現在のスコア: 0.841)
YOLO処理済み: 30/82 (現在のスコア: 0.045)
YOLO処理済み: 40/82 (現在のスコア: 0.000)
YOLO処理済み: 50/82 (現在のスコア: 0.925)
YOLO処理済み: 60/82 (現在のスコア: 0.045)
YOLO処理済み: 70/82 (現在のスコア: 0.000)
YOLO処理済み: 80/82 (現在のスコア: 0.028)
人物検出スコア >= 0.105 のマスク数: 36
YOLO検出スコア統計: 最高=0.962, 最低=0.000, 平均=0.220
上位10スコア: ['0.962', '0.925', '0.921', '0.886', '0.872', '0.847', '0.841', '0.841', '0.809', '0.756']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (1.23秒, RAM: 2145.1MB, GPU: 2805.5MB)
🎯 複数キャラクター検出: 36個 → 複合スコアで最適選択
⚠️ マスク数制限: 36個 → 20個に制限
🎯 複合スコア評価開始 (基準: fullbody_priority, 20個のマスク)
   マスク1: 総合=0.528 (面積=0.24, 全身=0.52, 中央=0.61, 接地=0.58, YOLO=0.96)
   マスク2: 総合=0.460 (面積=0.87, 全身=0.00, 中央=0.68, 接地=0.61, YOLO=0.93)
   マスク3: 総合=0.386 (面積=0.07, 全身=0.09, 中央=0.77, 接地=0.86, YOLO=0.92)
   マスク4: 総合=0.370 (面積=0.17, 全身=0.00, 中央=0.99, 接地=0.65, YOLO=0.89)
   マスク5: 総合=0.374 (面積=0.11, 全身=0.23, 中央=0.62, 接地=0.52, YOLO=0.87)
   マスク6: 総合=0.468 (面積=0.19, 全身=0.28, 中央=0.76, 接地=0.79, YOLO=0.85)
   マスク7: 総合=0.183 (面積=0.04, 全身=0.00, 中央=0.48, 接地=0.12, YOLO=0.84)
   マスク8: 総合=0.474 (面積=0.03, 全身=0.31, 中央=0.81, 接地=0.93, YOLO=0.84)
   マスク9: 総合=0.361 (面積=0.06, 全身=0.35, 中央=0.54, 接地=0.31, YOLO=0.81)
   マスク10: 総合=0.270 (面積=0.05, 全身=0.00, 中央=0.69, 接地=0.54, YOLO=0.76)
   マスク11: 総合=0.275 (面積=0.10, 全身=0.00, 中央=0.69, 接地=0.57, YOLO=0.66)
   マスク12: 総合=0.343 (面積=0.19, 全身=0.00, 中央=0.73, 接地=0.89, YOLO=0.61)
   マスク13: 総合=0.184 (面積=0.08, 全身=0.05, 中央=0.40, 接地=0.19, YOLO=0.60)
   マスク14: 総合=0.219 (面積=0.18, 全身=0.00, 中央=0.58, 接地=0.27, YOLO=0.54)
   マスク15: 総合=0.237 (面積=0.03, 全身=0.00, 中央=0.68, 接地=0.52, YOLO=0.51)
   マスク16: 総合=0.199 (面積=0.06, 全身=0.11, 中央=0.43, 接地=0.25, YOLO=0.42)
   マスク17: 総合=0.269 (面積=0.05, 全身=0.13, 中央=0.64, 接地=0.45, YOLO=0.42)
   マスク18: 総合=0.387 (面積=0.19, 全身=0.09, 中央=0.82, 接地=1.00, YOLO=0.41)
   マスク19: 総合=0.272 (面積=0.02, 全身=0.00, 中央=0.58, 接地=0.97, YOLO=0.35)
   マスク20: 総合=0.601 (面積=0.08, 全身=0.78, 中央=0.82, 接地=0.75, YOLO=0.35)
✅ 最適マスク選択: 複合スコア 0.601, 品質スコア 0.449
✅ 保存完了: 06_kaname03_0005.jpg (品質: 0.449)

進捗: 7/88 - 07_kaname03_0006.jpg
🔄 開始: 画像読み込み (RAM: 2069.4MB, GPU: 2805.5MB)
✅ 完了: 画像読み込み (0.06秒, RAM: 2069.4MB, GPU: 2805.5MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 2068.4MB, GPU: 2805.5MB)
SAMでマスクを生成中...
生成されたマスク数: 100
マスク面積統計: 最小=1726, 最大=370687, 平均=53510
✅ 完了: SAMマスク生成 (55.74秒, RAM: 2256.5MB, GPU: 2805.5MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2256.5MB, GPU: 2805.5MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で100個のマスクを評価開始...
YOLO処理済み: 10/100 (現在のスコア: 0.022)
YOLO処理済み: 20/100 (現在のスコア: 0.000)
YOLO処理済み: 30/100 (現在のスコア: 0.031)
YOLO処理済み: 40/100 (現在のスコア: 0.021)
YOLO処理済み: 50/100 (現在のスコア: 0.441)
YOLO処理済み: 60/100 (現在のスコア: 0.603)
YOLO処理済み: 70/100 (現在のスコア: 0.000)
YOLO処理済み: 80/100 (現在のスコア: 0.230)
YOLO処理済み: 90/100 (現在のスコア: 0.046)
YOLO処理済み: 100/100 (現在のスコア: 0.022)
人物検出スコア >= 0.105 のマスク数: 50
YOLO検出スコア統計: 最高=0.859, 最低=0.000, 平均=0.234
上位10スコア: ['0.859', '0.849', '0.833', '0.804', '0.738', '0.724', '0.714', '0.714', '0.696', '0.683']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (1.60秒, RAM: 2198.9MB, GPU: 2805.5MB)
🎯 複数キャラクター検出: 50個 → 複合スコアで最適選択
⚠️ マスク数制限: 50個 → 20個に制限
🎯 複合スコア評価開始 (基準: fullbody_priority, 20個のマスク)
   マスク1: 総合=0.494 (面積=0.05, 全身=0.42, 中央=0.78, 接地=0.75, YOLO=0.86)
   マスク2: 総合=0.394 (面積=0.15, 全身=0.12, 中央=0.90, 接地=0.65, YOLO=0.85)
   マスク3: 総合=0.450 (面積=0.03, 全身=0.34, 中央=0.55, 接地=0.95, YOLO=0.83)
   マスク4: 総合=0.563 (面積=0.08, 全身=0.57, 中央=0.94, 接地=0.65, YOLO=0.80)
   マスク5: 総合=0.290 (面積=0.05, 全身=0.00, 中央=0.56, 接地=0.81, YOLO=0.74)
   マスク6: 総合=0.335 (面積=0.09, 全身=0.00, 中央=0.71, 接地=0.92, YOLO=0.72)
   マスク7: 総合=0.510 (面積=0.06, 全身=0.36, 中央=0.96, 接地=0.93, YOLO=0.71)
   マスク8: 総合=0.681 (面積=0.02, 全身=0.94, 中央=0.80, 接地=0.75, YOLO=0.71)
   マスク9: 総合=0.307 (面積=0.04, 全身=0.09, 中央=0.62, 接地=0.68, YOLO=0.70)
   マスク10: 総合=0.404 (面積=0.06, 全身=0.40, 中央=0.61, 接地=0.48, YOLO=0.68)
   マスク11: 総合=0.468 (面積=0.01, 全身=0.43, 中央=0.83, 接地=0.68, YOLO=0.66)
   マスク12: 総合=0.353 (面積=0.01, 全身=0.24, 中央=0.53, 接地=0.72, YOLO=0.66)
   マスク13: 総合=0.482 (面積=0.23, 全身=0.38, 中央=0.66, 接地=0.79, YOLO=0.66)
   マスク14: 総合=0.622 (面積=0.22, 全身=0.64, 中央=0.80, 接地=0.93, YOLO=0.63)
   マスク15: 総合=0.415 (面積=0.02, 全身=0.49, 中央=0.66, 接地=0.37, YOLO=0.62)
   マスク16: 総合=0.605 (面積=0.17, 全身=0.80, 中央=0.67, 接地=0.58, YOLO=0.61)
   マスク17: 総合=0.489 (面積=0.10, 全身=0.43, 中央=0.79, 接地=0.80, YOLO=0.60)
   マスク18: 総合=0.444 (面積=0.02, 全身=0.37, 中央=0.72, 接地=0.82, YOLO=0.60)
   マスク19: 総合=0.432 (面積=0.05, 全身=0.36, 中央=0.85, 接地=0.60, YOLO=0.60)
   マスク20: 総合=0.290 (面積=0.03, 全身=0.00, 中央=0.58, 接地=0.95, YOLO=0.55)
✅ 最適マスク選択: 複合スコア 0.681, 品質スコア 0.701
✅ 保存完了: 07_kaname03_0006.jpg (品質: 0.701)

進捗: 8/88 - 08_kaname03_0007.jpg
🔄 開始: 画像読み込み (RAM: 2083.6MB, GPU: 2805.5MB)
✅ 完了: 画像読み込み (0.06秒, RAM: 2083.6MB, GPU: 2805.5MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 2083.6MB, GPU: 2805.5MB)
SAMでマスクを生成中...
生成されたマスク数: 92
マスク面積統計: 最小=928, 最大=558926, 平均=55001
✅ 完了: SAMマスク生成 (55.75秒, RAM: 2174.4MB, GPU: 2805.5MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2174.4MB, GPU: 2805.5MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で92個のマスクを評価開始...
YOLO処理済み: 10/92 (現在のスコア: 0.390)
YOLO処理済み: 20/92 (現在のスコア: 0.143)
YOLO処理済み: 30/92 (現在のスコア: 0.011)
YOLO処理済み: 40/92 (現在のスコア: 0.027)
YOLO処理済み: 50/92 (現在のスコア: 0.000)
YOLO処理済み: 60/92 (現在のスコア: 0.021)
YOLO処理済み: 70/92 (現在のスコア: 0.516)
YOLO処理済み: 80/92 (現在のスコア: 0.000)
YOLO処理済み: 90/92 (現在のスコア: 0.000)
人物検出スコア >= 0.105 のマスク数: 14
YOLO検出スコア統計: 最高=0.831, 最低=0.000, 平均=0.072
上位10スコア: ['0.831', '0.602', '0.526', '0.516', '0.442', '0.392', '0.390', '0.363', '0.328', '0.308']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (1.50秒, RAM: 2174.4MB, GPU: 2805.5MB)
🎯 複数キャラクター検出: 14個 → 複合スコアで最適選択
🎯 複合スコア評価開始 (基準: fullbody_priority, 14個のマスク)
   マスク1: 総合=0.513 (面積=0.03, 全身=0.35, 中央=0.90, 接地=0.98, YOLO=0.83)
   マスク2: 総合=0.496 (面積=0.10, 全身=0.38, 中央=0.90, 接地=0.86, YOLO=0.60)
   マスク3: 総合=0.654 (面積=0.25, 全身=0.78, 中央=0.95, 接地=0.65, YOLO=0.53)
   マスク4: 総合=0.324 (面積=0.18, 全身=0.00, 中央=0.94, 接地=0.64, YOLO=0.52)
   マスク5: 総合=0.376 (面積=0.01, 全身=0.27, 中央=0.83, 接地=0.66, YOLO=0.44)
   マスク6: 総合=0.205 (面積=0.06, 全身=0.00, 中央=0.64, 接地=0.39, YOLO=0.39)
   マスク7: 総合=0.569 (面積=0.07, 全身=0.89, 中央=0.57, 接地=0.49, YOLO=0.39)
   マスク8: 総合=0.275 (面積=0.05, 全身=0.00, 中央=0.68, 接地=0.84, YOLO=0.36)
   マスク9: 総合=0.341 (面積=0.03, 全身=0.20, 中央=0.87, 接地=0.61, YOLO=0.33)
   マスク10: 総合=0.417 (面積=0.10, 全身=0.34, 中央=0.90, 接地=0.65, YOLO=0.31)
   マスク11: 総合=0.407 (面積=0.03, 全身=0.37, 中央=0.89, 接地=0.65, YOLO=0.23)
   マスク12: 総合=0.547 (面積=0.44, 全身=0.48, 中央=0.75, 接地=0.92, YOLO=0.17)
   マスク13: 総合=0.302 (面積=0.01, 全身=0.31, 中央=0.69, 接地=0.37, YOLO=0.16)
   マスク14: 総合=0.194 (面積=0.05, 全身=0.00, 中央=0.65, 接地=0.49, YOLO=0.14)
✅ 最適マスク選択: 複合スコア 0.654, 品質スコア 0.577
✅ 保存完了: 08_kaname03_0007.jpg (品質: 0.577)

進捗: 9/88 - 09_kaname03_0008.jpg
🔄 開始: 画像読み込み (RAM: 2041.1MB, GPU: 2805.5MB)
✅ 完了: 画像読み込み (0.06秒, RAM: 2041.1MB, GPU: 2805.5MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 2041.1MB, GPU: 2805.5MB)
SAMでマスクを生成中...
生成されたマスク数: 81
マスク面積統計: 最小=2074, 最大=2265244, 平均=80564
✅ 完了: SAMマスク生成 (54.57秒, RAM: 2195.6MB, GPU: 2805.5MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2194.7MB, GPU: 2805.5MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で81個のマスクを評価開始...
YOLO処理済み: 10/81 (現在のスコア: 0.029)
YOLO処理済み: 20/81 (現在のスコア: 0.021)
YOLO処理済み: 30/81 (現在のスコア: 0.092)
YOLO処理済み: 40/81 (現在のスコア: 0.478)
YOLO処理済み: 50/81 (現在のスコア: 0.426)
YOLO処理済み: 60/81 (現在のスコア: 0.029)
YOLO処理済み: 70/81 (現在のスコア: 0.000)
YOLO処理済み: 80/81 (現在のスコア: 0.000)
人物検出スコア >= 0.105 のマスク数: 26
YOLO検出スコア統計: 最高=0.897, 最低=0.000, 平均=0.132
上位10スコア: ['0.897', '0.851', '0.792', '0.744', '0.595', '0.493', '0.487', '0.478', '0.457', '0.426']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (1.28秒, RAM: 2140.2MB, GPU: 2805.5MB)
🎯 複数キャラクター検出: 26個 → 複合スコアで最適選択
⚠️ マスク数制限: 26個 → 20個に制限
🎯 複合スコア評価開始 (基準: fullbody_priority, 20個のマスク)
   マスク1: 総合=0.372 (面積=0.07, 全身=0.00, 中央=0.79, 接地=1.00, YOLO=0.90)
   マスク2: 総合=0.555 (面積=0.04, 全身=0.44, 中央=0.91, 接地=1.00, YOLO=0.85)
   マスク3: 総合=0.654 (面積=0.34, 全身=0.65, 中央=0.71, 接地=0.93, YOLO=0.79)
   マスク4: 総合=0.437 (面積=0.00, 全身=0.21, 中央=0.86, 接地=1.00, YOLO=0.74)
   マスク5: 総合=0.541 (面積=0.03, 全身=0.57, 中央=0.65, 接地=0.98, YOLO=0.60)
   マスク6: 総合=0.428 (面積=0.14, 全身=0.31, 中央=0.69, 接地=0.83, YOLO=0.49)
   マスク7: 総合=0.278 (面積=0.01, 全身=0.00, 中央=0.76, 接地=0.76, YOLO=0.49)
   マスク8: 総合=0.496 (面積=0.23, 全身=0.42, 中央=0.55, 接地=1.00, YOLO=0.48)
   マスク9: 総合=0.268 (面積=0.07, 全身=0.00, 中央=0.73, 接地=0.67, YOLO=0.46)
   マスク10: 総合=0.331 (面積=0.01, 全身=0.25, 中央=0.49, 接地=0.75, YOLO=0.43)
   マスク11: 総合=0.276 (面積=0.02, 全身=0.00, 中央=0.79, 接地=0.74, YOLO=0.42)
   マスク12: 総合=0.312 (面積=0.23, 全身=0.00, 中央=0.76, 接地=0.80, YOLO=0.33)
   マスク13: 総合=0.228 (面積=0.11, 全身=0.00, 中央=0.72, 接地=0.46, YOLO=0.28)
   マスク14: 総合=0.315 (面積=0.01, 全身=0.21, 中央=0.41, 接地=0.92, YOLO=0.27)
   マスク15: 総合=0.431 (面積=0.11, 全身=0.41, 中央=0.72, 接地=0.75, YOLO=0.26)
   マスク16: 総合=0.396 (面積=0.14, 全身=0.31, 中央=0.58, 接地=0.87, YOLO=0.25)
   マスク17: 総合=0.256 (面積=0.03, 全身=0.00, 中央=0.50, 接地=1.00, YOLO=0.24)
   マスク18: 総合=0.268 (面積=0.04, 全身=0.06, 中央=0.69, 接地=0.75, YOLO=0.19)
   マスク19: 総合=0.263 (面積=0.01, 全身=0.07, 中央=0.65, 接地=0.78, YOLO=0.18)
   マスク20: 総合=0.229 (面積=0.04, 全身=0.00, 中央=0.45, 接地=0.92, YOLO=0.15)
✅ 最適マスク選択: 複合スコア 0.654, 品質スコア 0.737
✅ 保存完了: 09_kaname03_0008.jpg (品質: 0.737)

進捗: 10/88 - 10_kaname03_0009.jpg
🔄 開始: 画像読み込み (RAM: 2040.0MB, GPU: 2805.5MB)
✅ 完了: 画像読み込み (0.07秒, RAM: 2040.0MB, GPU: 2805.5MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 2040.0MB, GPU: 2805.5MB)
SAMでマスクを生成中...
生成されたマスク数: 92
マスク面積統計: 最小=288, 最大=945801, 平均=60536
✅ 完了: SAMマスク生成 (56.46秒, RAM: 2177.4MB, GPU: 2805.5MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2177.4MB, GPU: 2805.5MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で92個のマスクを評価開始...
YOLO処理済み: 10/92 (現在のスコア: 0.071)
YOLO処理済み: 20/92 (現在のスコア: 0.065)
YOLO処理済み: 30/92 (現在のスコア: 0.030)
YOLO処理済み: 40/92 (現在のスコア: 0.025)
YOLO処理済み: 50/92 (現在のスコア: 0.312)
YOLO処理済み: 60/92 (現在のスコア: 0.000)
YOLO処理済み: 70/92 (現在のスコア: 0.000)
YOLO処理済み: 80/92 (現在のスコア: 0.011)
YOLO処理済み: 90/92 (現在のスコア: 0.656)
人物検出スコア >= 0.105 のマスク数: 35
YOLO検出スコア統計: 最高=0.773, 最低=0.000, 平均=0.157
上位10スコア: ['0.773', '0.760', '0.727', '0.704', '0.656', '0.632', '0.610', '0.516', '0.512', '0.508']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (1.55秒, RAM: 2177.4MB, GPU: 2805.5MB)
🎯 複数キャラクター検出: 35個 → 複合スコアで最適選択
⚠️ マスク数制限: 35個 → 20個に制限
🎯 複合スコア評価開始 (基準: fullbody_priority, 20個のマスク)
   マスク1: 総合=0.492 (面積=0.03, 全身=0.45, 中央=0.55, 接地=0.98, YOLO=0.77)
   マスク2: 総合=0.337 (面積=0.10, 全身=0.31, 中央=0.45, 接地=0.32, YOLO=0.76)
   マスク3: 総合=0.316 (面積=0.10, 全身=0.00, 中央=0.83, 接地=0.67, YOLO=0.73)
   マスク4: 総合=0.173 (面積=0.04, 全身=0.00, 中央=0.45, 接地=0.18, YOLO=0.70)
   マスク5: 総合=0.520 (面積=0.15, 全身=0.49, 中央=0.69, 接地=0.82, YOLO=0.66)
   マスク6: 総合=0.463 (面積=0.01, 全身=0.43, 中央=0.84, 接地=0.65, YOLO=0.63)
   マスク7: 総合=0.408 (面積=0.10, 全身=0.35, 中央=0.72, 接地=0.52, YOLO=0.61)
   マスク8: 総合=0.314 (面積=0.04, 全身=0.25, 中央=0.54, 接地=0.49, YOLO=0.52)
   マスク9: 総合=0.543 (面積=0.03, 全身=0.77, 中央=0.72, 接地=0.48, YOLO=0.51)
   マスク10: 総合=0.272 (面積=0.17, 全身=0.00, 中央=0.64, 接地=0.61, YOLO=0.51)
   マスク11: 総合=0.455 (面積=0.02, 全身=0.41, 中央=0.62, 接地=0.97, YOLO=0.47)
   マスク12: 総合=0.256 (面積=0.01, 全身=0.00, 中央=0.73, 接地=0.66, YOLO=0.46)
   マスク13: 総合=0.388 (面積=0.11, 全身=0.34, 中央=0.71, 接地=0.52, YOLO=0.45)
   マスク14: 総合=0.522 (面積=0.17, 全身=0.55, 中央=0.75, 接地=0.74, YOLO=0.44)
   マスク15: 総合=0.208 (面積=0.14, 全身=0.00, 中央=0.57, 接地=0.34, YOLO=0.44)
   マスク16: 総合=0.434 (面積=0.04, 全身=0.42, 中央=0.70, 接地=0.74, YOLO=0.41)
   マスク17: 総合=0.491 (面積=0.25, 全身=0.47, 中央=0.63, 接地=0.79, YOLO=0.38)
   マスク18: 総合=0.429 (面積=0.20, 全身=0.28, 中央=0.78, 接地=0.82, YOLO=0.37)
   マスク19: 総合=0.412 (面積=0.08, 全身=0.46, 中央=0.61, 接地=0.58, YOLO=0.32)
   マスク20: 総合=0.374 (面積=0.20, 全身=0.39, 中央=0.53, 接地=0.45, YOLO=0.32)
✅ 最適マスク選択: 複合スコア 0.543, 品質スコア 0.525
✅ 保存完了: 10_kaname03_0009.jpg (品質: 0.525)

進捗: 11/88 - 11_kaname03_0010.jpg
🔄 開始: 画像読み込み (RAM: 2041.0MB, GPU: 2805.5MB)
✅ 完了: 画像読み込み (0.06秒, RAM: 2041.0MB, GPU: 2805.5MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 2041.0MB, GPU: 2805.5MB)
SAMでマスクを生成中...
生成されたマスク数: 94
マスク面積統計: 最小=524, 最大=533667, 平均=59599
✅ 完了: SAMマスク生成 (54.02秒, RAM: 2180.5MB, GPU: 2805.5MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2180.5MB, GPU: 2805.5MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で94個のマスクを評価開始...
YOLO処理済み: 10/94 (現在のスコア: 0.261)
YOLO処理済み: 20/94 (現在のスコア: 0.033)
YOLO処理済み: 30/94 (現在のスコア: 0.000)
YOLO処理済み: 40/94 (現在のスコア: 0.000)
YOLO処理済み: 50/94 (現在のスコア: 0.782)
YOLO処理済み: 60/94 (現在のスコア: 0.034)
YOLO処理済み: 70/94 (現在のスコア: 0.545)
YOLO処理済み: 80/94 (現在のスコア: 0.030)
YOLO処理済み: 90/94 (現在のスコア: 0.000)
人物検出スコア >= 0.105 のマスク数: 41
YOLO検出スコア統計: 最高=0.874, 最低=0.000, 平均=0.203
上位10スコア: ['0.874', '0.849', '0.803', '0.801', '0.789', '0.785', '0.782', '0.741', '0.720', '0.681']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (1.36秒, RAM: 2180.5MB, GPU: 2805.5MB)
🎯 複数キャラクター検出: 41個 → 複合スコアで最適選択
⚠️ マスク数制限: 41個 → 20個に制限
🎯 複合スコア評価開始 (基準: fullbody_priority, 20個のマスク)
   マスク1: 総合=0.244 (面積=0.06, 全身=0.00, 中央=0.61, 接地=0.37, YOLO=0.87)
   マスク2: 総合=0.345 (面積=0.31, 全身=0.00, 中央=0.69, 接地=0.63, YOLO=0.85)
   マスク3: 総合=0.523 (面積=0.34, 全身=0.42, 中央=0.64, 接地=0.76, YOLO=0.80)
   マスク4: 総合=0.515 (面積=0.11, 全身=0.45, 中央=0.90, 接地=0.65, YOLO=0.80)
   マスク5: 総合=0.493 (面積=0.07, 全身=0.29, 中央=0.92, 接地=0.98, YOLO=0.79)
   マスク6: 総合=0.371 (面積=0.03, 全身=0.16, 中央=0.84, 接地=0.65, YOLO=0.79)
   マスク7: 総合=0.245 (面積=0.10, 全身=0.07, 中央=0.52, 接地=0.26, YOLO=0.78)
   マスク8: 総合=0.624 (面積=0.04, 全身=0.78, 中央=0.91, 接地=0.62, YOLO=0.74)
   マスク9: 総合=0.318 (面積=0.08, 全身=0.00, 中央=0.64, 接地=0.89, YOLO=0.72)
   マスク10: 総合=0.519 (面積=0.05, 全身=0.63, 中央=0.52, 接地=0.74, YOLO=0.68)
   マスク11: 総合=0.550 (面積=0.02, 全身=0.63, 中央=0.72, 接地=0.83, YOLO=0.64)
   マスク12: 総合=0.343 (面積=0.26, 全身=0.09, 中央=0.63, 接地=0.64, YOLO=0.63)
   マスク13: 総合=0.332 (面積=0.04, 全身=0.00, 中央=0.79, 接地=0.95, YOLO=0.62)
   マスク14: 総合=0.453 (面積=0.06, 全身=0.38, 中央=0.68, 接地=0.88, YOLO=0.56)
   マスク15: 総合=0.286 (面積=0.07, 全身=0.00, 中央=0.76, 接地=0.69, YOLO=0.55)
   マスク16: 総合=0.482 (面積=0.11, 全身=0.49, 中央=0.59, 接地=0.81, YOLO=0.54)
   マスク17: 総合=0.410 (面積=0.09, 全身=0.29, 中央=0.76, 接地=0.75, YOLO=0.48)
   マスク18: 総合=0.261 (面積=0.06, 全身=0.00, 中央=0.50, 接地=0.85, YOLO=0.47)
   マスク19: 総合=0.581 (面積=0.32, 全身=0.55, 中央=0.68, 接地=1.00, YOLO=0.44)
   マスク20: 総合=0.406 (面積=0.03, 全身=0.37, 中央=0.70, 接地=0.75, YOLO=0.33)
✅ 最適マスク選択: 複合スコア 0.624, 品質スコア 0.695
✅ 保存完了: 11_kaname03_0010.jpg (品質: 0.695)

進捗: 12/88 - 12_kaname03_0011.jpg
🔄 開始: 画像読み込み (RAM: 2041.0MB, GPU: 2805.5MB)
✅ 完了: 画像読み込み (0.05秒, RAM: 2041.0MB, GPU: 2805.5MB)
カラー判定: 最大チャンネル差分=0.000, 閾値=0.01, 結果=グレースケール
🔄 開始: SAMマスク生成 (RAM: 2041.0MB, GPU: 2805.5MB)
SAMでマスクを生成中...
生成されたマスク数: 105
マスク面積統計: 最小=996, 最大=302709, 平均=49540
✅ 完了: SAMマスク生成 (54.16秒, RAM: 2213.8MB, GPU: 2805.5MB)
🔄 開始: YOLO人物検出フィルタリング (RAM: 2213.8MB, GPU: 2805.5MB)
YOLOv8で人物検出スコアを計算中...
YOLOv8で105個のマスクを評価開始...
YOLO処理済み: 10/105 (現在のスコア: 0.438)
YOLO処理済み: 20/105 (現在のスコア: 0.844)
YOLO処理済み: 30/105 (現在のスコア: 0.505)
YOLO処理済み: 40/105 (現在のスコア: 0.094)
YOLO処理済み: 50/105 (現在のスコア: 0.866)
YOLO処理済み: 60/105 (現在のスコア: 0.404)
YOLO処理済み: 70/105 (現在のスコア: 0.380)
YOLO処理済み: 80/105 (現在のスコア: 0.561)
YOLO処理済み: 90/105 (現在のスコア: 0.210)
YOLO処理済み: 100/105 (現在のスコア: 0.434)
人物検出スコア >= 0.105 のマスク数: 52
YOLO検出スコア統計: 最高=0.881, 最低=0.000, 平均=0.214
上位10スコア: ['0.881', '0.866', '0.863', '0.844', '0.826', '0.821', '0.765', '0.715', '0.704', '0.603']
🎌 アニメモード使用中: yolov8x.pt
✅ 完了: YOLO人物検出フィルタリング (2.02秒, RAM: 2213.8MB, GPU: 2805.5MB)
🎯 複数キャラクター検出: 52個 → 複合スコアで最適選択
⚠️ マスク数制限: 52個 → 20個に制限
🎯 複合スコア評価開始 (基準: fullbody_priority, 20個のマスク)
   マスク1: 総合=0.455 (面積=0.13, 全身=0.35, 中央=0.73, 接地=0.61, YOLO=0.88)
   マスク2: 総合=0.211 (面積=0.13, 全身=0.00, 中央=0.46, 接地=0.20, YOLO=0.87)
   マスク3: 総合=0.333 (面積=0.08, 全身=0.00, 中央=0.72, 接地=0.81, YOLO=0.86)
   マスク4: 総合=0.184 (面積=0.02, 全身=0.00, 中央=0.49, 接地=0.14, YOLO=0.84)
   マスク5: 総合=0.253 (面積=0.03, 全身=0.00, 中央=0.66, 接地=0.43, YOLO=0.83)
   マスク6: 総合=0.544 (面積=0.17, 全身=0.53, 中央=0.62, 接地=0.81, YOLO=0.82)
   マスク7: 総合=0.437 (面積=0.07, 全身=0.37, 中央=0.72, 接地=0.61, YOLO=0.77)
   マスク8: 総合=0.468 (面積=0.04, 全身=0.53, 中央=0.56, 接地=0.62, YOLO=0.72)
   マスク9: 総合=0.395 (面積=0.12, 全身=0.37, 中央=0.59, 接地=0.43, YOLO=0.70)
   マスク10: 総合=0.406 (面積=0.02, 全身=0.36, 中央=0.54, 接地=0.76, YOLO=0.60)
   マスク11: 総合=0.620 (面積=0.16, 全身=0.75, 中央=0.73, 接地=0.82, YOLO=0.56)
   マスク12: 総合=0.581 (面積=0.13, 全身=0.68, 中央=0.53, 接地=1.00, YOLO=0.52)
   マスク13: 総合=0.273 (面積=0.02, 全身=0.02, 中央=0.41, 接地=1.00, YOLO=0.51)
   マスク14: 総合=0.392 (面積=0.02, 全身=0.34, 中央=0.54, 接地=0.80, YOLO=0.51)
   マスク15: 総合=0.264 (面積=0.05, 全身=0.00, 中央=0.53, 接地=0.83, YOLO=0.50)
   マスク16: 総合=0.557 (面積=0.03, 全身=0.76, 中央=0.49, 接地=0.83, YOLO=0.50)
   マスク17: 総合=0.351 (面積=0.08, 全身=0.12, 中央=0.76, 接地=0.83, YOLO=0.48)
   マスク18: 総合=0.465 (面積=0.02, 全身=0.44, 中央=0.79, 接地=0.81, YOLO=0.48)
   マスク19: 総合=0.217 (面積=0.09, 全身=0.00, 中央=0.63, 接地=0.37, YOLO=0.47)
   マスク20: 総合=0.447 (面積=0.03, 全身=0.39, 中央=0.78, 接地=0.81, YOLO=0.47)
✅ 最適マスク選択: 複合スコア 0.620, 品質スコア 0.584
✅ 保存完了: 12_kaname03_0011.jpg (品質: 0.584)

進捗: 13/88 - 13_kaname03_0012.jpg

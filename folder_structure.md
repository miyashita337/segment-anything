# 📁 プロジェクト構成分析レポート

**生成日時**: 2025-07-26  
**分析対象**: segment-anything プロジェクト  
**総ファイル数**: 383個 (git追跡ファイル + 生成ファイル)

---

## 🎯 分析目的

現在のプロジェクトには必要な20種類程度を大幅に超える383個のファイルが存在しています。この文書では各ファイルの用途と必要性を分析し、「ワークフローテンプレート」で必要なファイルとそうでないファイルを明確に分類します。

---

## 📊 カテゴリ別ファイル分析

### 🔧 【必須】ワークフローテンプレートで使用するファイル

#### プロジェクト設定・文書
- `README.md` - プロジェクト概要（ワークフロー必須）
- `CLAUDE.md` - Claude Code設定（ワークフロー必須）
- `CHANGELOG.md` - 変更履歴（リリース管理必須）
- `PROGRESS_TRACKER.md` - 進捗管理（ワークフロー中核）
- `setup.py` - パッケージ設定（環境構築必須）

#### コア機能
- `core/` フォルダ一式 - Meta SAM本体実装（システム中核）
- `features/` フォルダ一式 - カスタム機能実装（主要機能）
- `tests/` フォルダ一式 - テストスイート（品質保証必須）

#### 設定・ツール
- `config/` フォルダ - 設定ファイル（システム設定必須）
- `linter.sh` - コード品質チェック（ワークフロー必須）
- `.gitignore` - Git設定（バージョン管理必須）

#### ワークフロー文書
- `docs/workflows/` フォルダ一式 - ワークフローテンプレート（プロセス中核）

### 🗂️ 【deprecated移行対象】不要・一時的ファイル

#### 古いバックアップ (完全削除推奨)
- `backup-20250716-2236/` フォルダ一式 - 古いバックアップ（2週間前、git履歴で復元可能）

#### 一時実行スクリプト・テストファイル
- `run_*.py` - 一時的な実行スクリプト群
- `test_*.py` - ルート直下のテストファイル群  
- `extract_kana*.py` - 特定データセット用スクリプト
- `analyze_*.py` - 分析用一時スクリプト
- `benchmark_*.py` - ベンチマーク用一時スクリプト

#### レポート・ログファイル
- `*_report*.md` - 各種分析レポート
- `*_report*.json` - JSON形式レポート
- `*.log` - 実行ログファイル
- `evaluation_reports/` - 評価結果レポート群
- `benchmark_results/` - ベンチマーク結果

#### その他一時ファイル
- `Week4_Final_Report.md` - 完了したフェーズのレポート
- `performance_analysis.md` - 分析完了後の成果物
- 各種 `*.json` 進捗・結果ファイル

---

## 📋 詳細ファイル分析

### 🟢 ワークフロー必須ファイル (保持)

#### プロジェクト中核
1. **README.md** - ワークフロー開始点、概要説明
2. **CLAUDE.md** - Claude Code設定、プロンプト仕様
3. **PROGRESS_TRACKER.md** - 進捗管理、PDCA中核
4. **setup.py** - 環境構築、依存関係管理

#### システム中核  
5. **core/** - Meta SAM実装本体
   - 用途: セグメンテーション処理の中核
   - 参照: features/内の全モジュールから参照
   - 必要性: システム動作に必須

6. **features/** - カスタム機能実装
   - 用途: YOLO統合、品質評価、文字抽出等
   - 参照: メイン処理の全てで使用
   - 必要性: プロジェクト主機能

7. **tests/** - テストスイート
   - 用途: 品質保証、回帰テスト
   - 参照: ワークフローの品質チェック段階
   - 必要性: 品質管理必須

#### 設定・ツール
8. **config/** - 設定ファイル群
   - 用途: 通知設定、システム設定
   - 参照: 実行時設定読み込み
   - 必要性: システム動作に必須

9. **linter.sh** - コード品質チェック
   - 用途: flake8, black, mypy実行
   - 参照: ワークフローの品質保証段階
   - 必要性: コード品質維持必須

10. **docs/workflows/** - ワークフローテンプレート
    - 用途: AI-人間協調プロセス定義
    - 参照: 開発プロセス全体
    - 必要性: プロジェクト運営の中核

### 🟡 条件付き保持ファイル (要検討)

#### 重要ツール類
11. **tools/** - ユーティリティスクリプト
    - 保持理由: 定期実行や管理作業で使用
    - 検討: 使用頻度の低いものはdeprecated移行

#### 最新成果物
12. **kana08_stable_batch.py** - Week4成果の安定版実装
    - 保持理由: 最新の安定実装
    - 検討: features/に統合後はdeprecated移行

### 🔴 deprecated移行対象ファイル (移行)

#### 古いバックアップ（削除推奨）
- `backup-20250716-2236/` - 2週間前のバックアップ
  - 理由: git履歴で復元可能、容量圧迫
  - git commit: 各ファイルの変更履歴が完全保存済み

#### 一時実行スクリプト（移行）  
- `run_batch_*.py` - 特定バッチ用一時スクリプト
- `run_phase*.py` - フェーズ別テストスクリプト
- `extract_kana*.py` - 特定データセット処理スクリプト
- `test_*.py` (ルート直下) - 一時テストファイル
- `analyze_*.py` - 分析用スクリプト
- `benchmark_*.py` - ベンチマーク用スクリプト
- `optimize_*.py` - 最適化実験スクリプト

#### レポート・結果ファイル（移行）
- `*_report*.md` - 各種分析レポート
- `*_report*.json` - JSON形式分析結果  
- `evaluation_reports/` - 評価結果ディレクトリ
- `benchmark_results/` - ベンチマーク結果
- `pose_analysis/` - 姿勢分析結果
- `validation_reports/` - 検証結果

#### 完了フェーズ成果物（移行）
- `Week4_Final_Report.md` - 完了済みフェーズ報告書
- `kana08_performance_analysis.md` - 分析完了後の成果物
- `final_*.md` - 各種最終レポート

#### 実行ログ・進捗ファイル（移行）
- `*.log` - 実行ログ全般
- `*_progress.json` - 進捗記録ファイル
- `auto_execution_log.json` - 自動実行ログ
- `progress_history.json` - 履歴ファイル

#### その他一時ファイル（移行）
- `*.pid` - プロセスIDファイル
- 各種 `*_test_*.json` - テスト結果ファイル
- `extracted_labels.json` - 一時的な抽出結果

---

## 🎯 推奨整理プラン

### Phase A: 即座実行（安全）
1. `backup-20250716-2236/` フォルダ削除
2. `*.log`, `*.pid` ファイル削除  
3. 明らかに一時的な `*_test_*.json` ファイル移行

### Phase B: 慎重実行（要確認）
1. ルート直下の `run_*.py`, `test_*.py` をdeprecated/に移行
2. レポートディレクトリ群をdeprecated/に移行
3. 完了フェーズの成果物をdeprecated/に移行

### Phase C: 検証後実行
1. tools/内の使用頻度確認
2. 最新実装ファイルのfeatures/統合検討

---

## 📈 期待される効果

### Before（現状）
- 総ファイル数: 383個
- ルート直下ファイル: 80個以上
- 管理困難度: 高

### After（整理後）
- 必須ファイル数: 約20-30個
- ルート直下ファイル: 10個以下
- 管理困難度: 低

### 運用改善
- ワークフロー効率: 大幅向上
- 新規参加者の理解: 容易
- 保守性: 大幅向上

---

## 📚 参考情報

### 分析に使用した情報源
1. **git commit log**: 最近2週間のcommit履歴
2. **ファイル参照関係**: import文、パス参照の静的解析
3. **会話履歴**: Claude Codeでの最近の作業内容
4. **ワークフロー文書**: docs/workflows/の定義内容

### 判定基準
- **必須**: ワークフローで明示的に参照されるファイル
- **条件付き**: 機能的に重要だが代替可能なファイル  
- **不要**: 一時的、実験的、完了済みのファイル

---

**最終更新**: 2025-07-26  
**次のアクション**: Phase B慎重実行の準備